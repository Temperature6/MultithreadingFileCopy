# 四线程文件复制

### 多线程复制

对于大量零碎文件(文件多，但每个文件大小都较小)，本程序快于Windows的“复制粘贴”

### 使用

```
.\MTCopy.exe src_dir dst_dir (-CHK)
```

命令行调用参数

​	：从src_dir复制到dist_dir

​	可选参数 -CHK ：复制完成后检查复制是否正确，未复制的项程序会尝试再次复制

目标目录不一定要存在，程序会自动创建，但参数不应当是非法的文件夹名称

### 注意事项

##### 调用

调用时路径格式应当统一为相对或绝对路径

以下是合法的调用语法

```
.\MTCopy.exe C:\Windows\src_dir C:\Windows\dst_dir
.\MTCopy.exe .\src_dir .\dst_dir -CHK
```

以下是不合法的调用语法

```
.\MTCopy.exe .\src_dir C:\Windows\dst_dir
```

##### 使用情景

最佳使用场景是在不同的物理磁盘之间复制文件

本程序为复制大量(>500)的小文件(≤10MB)设计(不一定全是小文件)，复制大量大文件的速度不会有很大优势，而且可能导致磁盘💽 I/O满载而丢失文件（或许调用时添加参数 -CHK 可以解决此问题）

例如个人在测试复制Qt框架的安装目录(4.86 GB,50,074 个文件3,645 个文件夹)的时候比window复制快了 2 min（具体效果因人而异）